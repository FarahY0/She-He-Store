@model Billing 
@{
    ViewData["Title"] = "Checkout";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
  


   

  

    p {
        margin: 10px 0 10px 0;
        font-size: 16px;
        line-height: 1.32;
    }

    a {
        color: #7aa76d;
        text-decoration: none;
        -webkit-transition: 0.15s color ease;
        -moz-transition: 0.15s color ease;
        -ms-transition: 0.15s color ease;
        -o-transition: 0.15s color ease;
        transition: 0.15s color ease;
    }

        a:hover {
            color: #91cd85;
        }

    small {
        display: block;
        margin-top: 15px;
        padding-top: 15px;
        color: #333;
        font-size: 0.85em;
        border-top: 1px dashed #ccc;
        -webkit-text-size-adjust: none;
    }

    input {
        border: 0px;
        padding: 8px 10px;
        margin: 5px 0px;
        border-radius: 1px;
        outline: 0;
        cursor: pointer;
        color: #fff;
        background: #7aa76d;
        font-size: 15px;
        -webkit-transition: 0.15s background ease;
        -moz-transition: 0.15s background ease;
        -ms-transition: 0.15s background ease;
        -o-transition: 0.15s background ease;
        transition: 0.15s background ease;
    }

        input:hover {
            background: #91cd85;
        }

        input:active {
            background: #60895a;
        }

        input + input {
            margin-left: 5px;
        }

    .sharing {
        margin-top: 50px;
    }

   
    .avgrund-active body {
        -webkit-transform: scale( 0.9 );
        -moz-transform: scale( 0.9 );
        -ms-transform: scale( 0.9 );
        -o-transform: scale( 0.9 );
        transform: scale( 0.9 );
    }

    .avgrund-cover {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        z-index: 1;
        visibility: hidden;
        opacity: 0;
        background: rgba( 0, 0, 0, 0.5 );
    }

    .avgrund-active .avgrund-cover {
        visibility: visible;
        opacity: 1;
    }

    .avgrund-contents {
        position: relative;
        padding: 20px;
        max-width: 400px;
        height: 100%;
        margin: auto;
    }

    .avgrund-active .avgrund-contents {
        -webkit-filter: blur(2px);
        -moz-filter: blur(2px);
        -ms-filter: blur(2px);
        -o-filter: blur(2px);
        filter: blur(2px);
    }

    .no-blur.avgrund-active .avgrund-contents {
        -webkit-filter: none;
        -moz-filter: none;
        -ms-filter: none;
        -o-filter: none;
        filter: none;
    }

    .avgrund-popup {
        position: absolute;
        width: 340px;
        height: 130px;
        left: 50%;
        top: 50%;
        margin: -130px 0 0 -190px;
        visibility: hidden;
        opacity: 0;
        z-index: 2;
        padding: 20px;
        background: white;
        box-shadow: 0px 0px 20px rgba( 0, 0, 0, 0.6 );
        border-radius: 3px;
        -webkit-transform: scale( 0.8 );
        -moz-transform: scale( 0.8 );
        -ms-transform: scale( 0.8 );
        -o-transform: scale( 0.8 );
        transform: scale( 0.8 );
    }

    .avgrund-active .avgrund-popup {
        visibility: visible;
        opacity: 1;
        -webkit-transform: scale( 1.1 );
        -moz-transform: scale( 1.1 );
        -ms-transform: scale( 1.1 );
        -o-transform: scale( 1.1 );
        transform: scale( 1.1 );
    }

    .avgrund-popup.stack {
        -webkit-transform: scale( 1.5 );
        -moz-transform: scale( 1.5 );
        -ms-transform: scale( 1.5 );
        -o-transform: scale( 1.5 );
        transform: scale( 1.5 );
    }

    .avgrund-active .avgrund-popup.stack {
        -webkit-transform: scale( 1.1 );
        -moz-transform: scale( 1.1 );
        -ms-transform: scale( 1.1 );
        -o-transform: scale( 1.1 );
        transform: scale( 1.1 );
    }


    .avgrund-ready body,
    .avgrund-ready .avgrund-contents,
    .avgrund-ready .avgrund-popup,
    .avgrund-ready .avgrund-cover {
        -webkit-transform-origin: 50% 50%;
        -moz-transform-origin: 50% 50%;
        -ms-transform-origin: 50% 50%;
        -o-transform-origin: 50% 50%;
        transform-origin: 50% 50%;
        -webkit-transition: 0.3s all cubic-bezier(0.250, 0.460, 0.450, 0.940);
        -moz-transition: 0.3s all cubic-bezier(0.250, 0.460, 0.450, 0.940);
        -ms-transition: 0.3s all cubic-bezier(0.250, 0.460, 0.450, 0.940);
        -o-transition: 0.3s all cubic-bezier(0.250, 0.460, 0.450, 0.940);
        transition: 0.3s all cubic-bezier(0.250, 0.460, 0.450, 0.940);
    }

        .avgrund-ready .avgrund-popup.no-transition {
            -webkit-transition: none;
            -moz-transition: none;
            -ms-transition: none;
            -o-transition: none;
            transition: none;
        }
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"> </script>
    <!-- ##### Breadcrumb Area Start ##### -->
    <div class="breadcrumb-area">
        <!-- Top Breadcrumb Area -->
        <div class="top-breadcrumb-area bg-img bg-overlay d-flex align-items-center justify-content-center" style="background-image: url('../../img/bg-img/24.jpg');">
            <h2>Checkout</h2>
        </div>

        <div class="container">
            <div class="row">
                <div class="col-12">
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a asp-action="Index" asp-controller="Home"><i class="fa fa-home"></i> Home</a></li>
                            <li class="breadcrumb-item active" aria-current="page">Checkout</li>
                        </ol>
                    </nav>
                </div>
            </div>
        </div>
    </div>
    <!-- ##### Breadcrumb Area End ##### -->
    <!-- ##### Checkout Area Start ##### -->
    <div class="checkout_area mb-100">
        <div class="container">
            <div class="row justify-content-between">
                <div class="col-12 col-lg-7">
                    <div class="checkout_details_area clearfix">
                        <h5>Billing Details</h5>
                    <form asp-action="AddToCheckout" asp-controller="Home" method="post" id="AddToCheckout">
                            <div class="row">
                                <div class="col-md-6 mb-4">
                                    <label asp-for="Fname">First Name *</label>
                                <input type="text" class="form-control"  asp-for="Fname"  required>
                                </div>
                                <div class="col-md-6 mb-4">
                                <label asp-for="Lname">Last Name *</label>
                                    <input type="text" class="form-control" asp-for="Lname" required>
                                </div>
                                <div class="col-12 mb-4">
                                    <label asp-for="Email">Email Address *</label>
                                    <input type="email" class="form-control" asp-for="Email">
                                </div>
                               
                              
                                <div class="col-12 mb-4">
                                    <label asp-for="Address">Address *</label>
                                    <input type="text" class="form-control" asp-for="Address">
                                </div>
                               
                                <div class="col-md-6 mb-4">
                                    <label asp-for="Country">Country</label>
                                    <input class="custom-select d-block w-100" type="text" asp-for="Country" />
                                 
                                </div>
                                <div class="col-md-6 mb-4">
                                    <label asp-for="Zip">Postcode/Zip</label>
                                    <input type="number" class="form-control" asp-for="Zip">
                                </div>
                                <div class="col-md-12 mb-4">
                                    <label asp-for="Message">Order Notes</label>
                                    <textarea class="form-control" asp-for="Message" cols="30" rows="10" placeholder="Notes about your order, e.g. special notes for delivery."></textarea>
                                </div>
                              
                            <div class="col-md-6 mb-4">
                                <label for="cardHolder">Card Holder *</label>
                                <input type="text" class="form-control" name="cardHolder" value="" required>
                            </div>
                            <div class="col-md-6 mb-4">
                                <label for="cardNumber">Card Number *</label>
                                <input type="number" class="form-control" name="cardNumber" value="" required>
                            </div>
                            <div class="col-md-6 mb-4">
                                <label for="date">Expiration Date *</label>
                                <input type="date" class="form-control" name="date"  required>
                            </div>
                            <div class="col-md-6 mb-4">
                                <label for="cvv">CVV *</label>
                                <input type="number" class="form-control" name="cvv"  required>
                            </div>
                        
                            <input style="background-color:#70c745" class="btn alazea-btn w-100" value="Place Order" onclick="avgrund.activate();" type="submit" />
                        </div>
                        <aside class="avgrund-popup">
                            <h2>THANK YOU</h2>
                            <p>
                                Your order submited successfully .
                            </p>
                            <button onclick="avgrund.deactivate();">Close</button>
                        </aside>
                        </form>
                    </div>
                </div>

          

                <div class="col-12 col-lg-4">
                    <div class="checkout-content">
                        <h5 class="title--">Your Order</h5>
                    <h5> @ViewData["CartCount"] Items </h5>
                    
                      @*  <div class="products">
                            <div class="products-data">
                                <h5>Products:</h5>
                            @foreach (var item in )
                            {
                                        <div class="single-products d-flex justify-content-between align-items-center">
                                            <p>@item.Product.Productname</p>
                                            <h5>$@item.Product.Price</h5>
                                        </div>
                            }
                            </div>
                        </div>*@
                        <div class="subtotal d-flex justify-content-between align-items-center">
                        <h5>Subtotal</h5>
                        <h5>$@ViewData["SubTotal"]</h5>
                        </div>
                        <div class="shipping d-flex justify-content-between align-items-center">
                            <h5>Shipping</h5>
                            <h5>$3.00</h5>
                        </div>
                        <div class="order-total d-flex justify-content-between align-items-center">
                        <h5>Order Total</h5>
                        <h5>$@ViewData["TotalPrice"]</h5>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- ##### Checkout Area End ##### -->

  <script>
    $("#AddToCheckout").submit(function (e) {
        e.preventDefault();

        $.ajax({
            type: "POST",
            url: "@Url.Action("AddToCheckout", "Home")",
            data: $("#AddToCheckout").serialize(),
            success: function (response) {
                if (response.success) {
                    showCard(response.message);
                } else {
                   
                    showCard2(response.message);
                }
            },
            error: function () {
                showCard2("An error occurred.");
            }
        });
    });
    $.ajax({
        type: "POST",
        url: "@Url.Action("AddToCheckout", "Home")",
        data: $("#AddToCheckout").serialize(),
        dataType: "json", 
        success: function (response) {
            if (response.success) {
                showCard(response.message);
            } else {
                showCard2(response.message);
            }
        },
       
    });

    function showCard(message) {
        alert(message); 
    }

    function showCard2(message) {
        alert(message); 
    }
  </script>
 @* <script>
    (function () {

        var container = document.documentElement,
            popup = document.querySelector('.avgrund-popup'),
            cover = document.querySelector('.avgrund-cover'),
            currentState = null;

        addClass(container, 'avgrund-ready');

        // Deactivate on ESC
        function onDocumentKeyUp(event) {
            if (event.keyCode === 27) {
                deactivate();
            }
        }

        // Deactivate on click outside
        function onDocumentClick(event) {
            if (event.target === cover) {
                deactivate();
            }
        }

        function activate(state) {
            document.addEventListener('keyup', onDocumentKeyUp, false);
            document.addEventListener('click', onDocumentClick, false);

            removeClass(popup, currentState);
            addClass(popup, 'no-transition');
            addClass(popup, state);

            setTimeout(function () {
                removeClass(popup, 'no-transition');
                addClass(container, 'avgrund-active');
            }, 0);

            currentState = state;
        }

        function deactivate() {
            document.removeEventListener('keyup', onDocumentKeyUp, false);
            document.removeEventListener('click', onDocumentClick, false);

            removeClass(container, 'avgrund-active');
        }

        function disableBlur() {
            addClass(document.documentElement, 'no-blur');
        }

        function addClass(element, name) {
            element.className = element.className.replace(/\s+$/gi, '') + ' ' + name;
        }

        function removeClass(element, name) {
            element.className = element.className.replace(name, '');
        }

        window.avgrund = {
            activate: activate,
            deactivate: deactivate,
            disableBlur: disableBlur
        }

    })();

  </script>*@
